# Monorepo 和 Multirepo 的技术选型

## 什么是 Monorepo

Monorepo 是一种项目代码管理方式，值单个仓库管理多个项目，有助于简化代码共享、版本控制、构建和部署等方面的复杂性，并提供了更好的可重用性和协作性。Monorepo 提倡了更开放、透明、共享的组织文化。

## Monorepo 的演进

- 阶段一：单仓库巨石应用：一个 git 仓库维护着项目代码，随着迭代业务复杂度的提升，项目代码会变得越来越多，越来越复杂，大量代码构建效率也会降低，最终导致了单体巨石应用，这种代码管理方式称之为 Monolith
- 阶段二：多仓库多模块应用：将项目拆解成多个业务模块，并在多个 git 仓库管理，模块解耦，降低了巨石应用的复杂度，每个模块都可以独立编码、测试、发版，代码管理变得简化，构建效率也得以提升，这种代码管理方式称之为 MultiRepo
- 阶段三：单仓库多模块应用：随着业务复杂度的提升，模块仓库越来越多，MultiRepo这种方式虽然从业务上解耦了，但增加了项目工程管理的难度，随着模块仓库达到一定数量级，会有几个问题：跨仓库代码难共享；分散在单仓库的模块依赖管理复杂（底层模块升级后，其他上层依赖需要及时更新，否则有问题）；增加了构建耗时。于是将多个项目集成到一个仓库下，共享工程配置，同时又快捷地共享模块代码，成为趋势，这种代码管理方式称之为 MonoRepo

## Monorepo 的优劣

### 优势

1. 代码的重用将变得非常容易：由于所有的项目代码都集中于一个代码仓库，我们将很容易抽离出各个项目共用的业务组件或工具，并通过 Typescript，Lerna或其他工具进行代码内引用。
2. 依赖管理将变得非常简单：
3. 代码重构将变得非常便捷：
4. 倡导了开放、透明、共享的组织文化，有利于开发者成长，代码质量的提升：
